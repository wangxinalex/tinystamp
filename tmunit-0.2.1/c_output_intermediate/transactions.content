case 0:
TX_START;
for( ThLocals->_k = 1; (ThLocals->_k <= ThLocals->_NB); ThLocals->_k = (ThLocals->_k + 1) )
{
TM_READ(&(a[ThLocals->_k]));
TM_WRITE(&(a[ThLocals->_k]),ThLocals->WriteValue);
ThLocals->WriteValue++;
}
TX_COMMIT;
break;
case 1:
TX_START_RO;
if((*counter) > 10000)
{
(*counter) = ((*counter) + 1);
}
TX_COMMIT;
break;
